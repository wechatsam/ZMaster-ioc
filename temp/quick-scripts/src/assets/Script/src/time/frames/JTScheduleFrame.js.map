{"version":3,"sources":["assets\\Script\\src\\time\\frames\\JTScheduleFrame.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;IAAA,IAAU,GAAG,CAuDZ;IAvDD,WAAU,GAAG;QAMT;YAAqC,mCAAY;YAI7C;gBAAA,YAEI,iBAAO,SACV;gBALO,aAAO,GAAS,IAAI,CAAC;gBACrB,mBAAa,GAAa,IAAI,CAAC;;YAIvC,CAAC;YAED,sBAAW,wCAAW;qBAAtB;oBAEI,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC;gBACjF,CAAC;;;eAAA;YAED,sBAAW,mCAAM;qBAAjB;oBAEI,OAAO,IAAI,CAAC,OAAO,CAAC;gBACxB,CAAC;;;eAAA;YAED,sBAAW,yCAAY;qBAAvB,UAAwB,KAAe;oBAEnC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC/B,CAAC;;;eAAA;YAEM,8BAAI,GAAX,UAAY,WAAkB,EAAE,IAAe,EAAE,SAAqB;gBAAtC,qBAAA,EAAA,QAAe;gBAAE,0BAAA,EAAA,cAAqB;gBAElE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;gBACzC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,CAAA;gBACtD,WAAW,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAC7C,CAAC;YAED,iCAAO,GAAP;gBACI,iBAAM,OAAO,WAAE,CAAC;gBAChB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACxB,CAAC;YAEa,sBAAM,GAApB;gBAEI,IAAI,KAAK,GAAoB,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,GAAG,EAAsB,CAAC;gBACxF,OAAO,KAAK,CAAC;YACjB,CAAC;YAEa,mBAAG,GAAjB,UAAkB,KAAsB;gBAEpC,WAAW,CAAC,YAAY,CAAC,UAAU,CAAC,KAAY,CAAC,CAAC;gBAClD,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,KAAyB,CAAC,CAAC;YACpE,CAAC;YACL,sBAAC;QAAD,CAhDA,AAgDC,CAhDoC,YAAY,GAgDhD;QAhDY,mBAAe,kBAgD3B,CAAA;IACL,CAAC,EAvDS,GAAG,KAAH,GAAG,QAuDZ","file":"","sourceRoot":"/","sourcesContent":["namespace com \r\n{\r\n    /**\r\n     * 帧均摊--利用帧频间隔来进行渲染图像/或者计算数据\r\n     * \r\n     */\r\n    export class JTScheduleFrame extends JTEnterFrame implements JTIScheduleFrame\r\n    {\r\n        private _frames:any[] = null;\r\n        private _createFrames:JTCommand = null;\r\n        constructor()\r\n        {\r\n            super();\r\n        }\r\n\r\n        public get currentItem():any\r\n        {\r\n            return this._frames[this._currentTimes - 1 < 0 ? 0 : this._currentTimes - 1];\r\n        }\r\n\r\n        public get frames():any[]\r\n        {\r\n            return this._frames;\r\n        }\r\n\r\n        public set createFrames(value:JTCommand)\r\n        {\r\n            this._createFrames = value;\r\n        }\r\n\r\n        public play(totalFrames:number, loop:number = 0, frameRate:number = 60):void\r\n        {\r\n            this._running = true;\r\n            this.setup(totalFrames, loop, frameRate);\r\n            this._frames = this._createFrames.runWith(totalFrames)\r\n            JTTimerTool.animationTimer.addTask(this);//加入到动画对列里\r\n        }\r\n\r\n        recycle(): void {\r\n            super.recycle();\r\n            this._frames = null;\r\n        }\r\n \r\n        public static create():JTIScheduleFrame\r\n        {\r\n            let frame:JTIScheduleFrame = JTPool.instance(JTScheduleFrame).get() as JTIScheduleFrame;\r\n            return frame;\r\n        } \r\n\r\n        public static put(timer:JTIScheduleFrame):void\r\n        {\r\n            JTTimerTool.defaultTimer.removeTask(timer as any);\r\n            JTPool.instance(JTScheduleFrame).put(timer as JTIScheduleFrame);\r\n        }\r\n    }\r\n}\r\n"]}