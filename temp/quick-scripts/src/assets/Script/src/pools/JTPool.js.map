{"version":3,"sources":["assets\\Script\\src\\pools\\JTPool.ts"],"names":[],"mappings":";;;;;;IAAA,IAAU,GAAG,CAwDZ;IAxDD,WAAU,GAAG;QAET;YAOI,gBAAY,GAAO;gBAJT,SAAI,GAAO,IAAI,CAAC;gBAChB,UAAK,GAAO,IAAI,CAAC;gBACjB,gBAAW,GAAU,CAAC,CAAC;gBACvB,UAAK,GAAU,CAAC,CAAC;gBAGvB,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;gBAChB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;gBAChB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;YACzB,CAAC;YAEM,oBAAG,GAAV;gBAEI,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,EAClB;oBACI,IAAI,CAAC,KAAK,EAAG,CAAC;oBACd,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;iBAC7B;gBACD,IAAI,CAAC,WAAW,EAAG,CAAC;gBACpB,OAAO,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;YAC3B,CAAC;YAEM,oBAAG,GAAV,UAAW,IAAM;gBAEb,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAC1C;oBACI,IAAI,CAAC,OAAO,EAAE,CAAC;oBACf,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACtC;YACL,CAAC;YAED,sBAAW,8BAAU;qBAArB;oBAEI,OAAO,IAAI,CAAC,WAAW,CAAC;gBAC5B,CAAC;;;eAAA;YAED,sBAAW,wBAAI;qBAAf;oBAEI,OAAO,IAAI,CAAC,KAAK,CAAC;gBACtB,CAAC;;;eAAA;YAEa,eAAQ,GAAtB,UAAuB,GAAO;gBAE1B,IAAI,IAAI,GAAW,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBACtC,IAAI,CAAC,IAAI,EACT;oBACA,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC;iBAC3C;gBACD,OAAO,IAAI,CAAC;YAChB,CAAC;YAlDc,eAAQ,GAAU,EAAE,CAAC;YAmDxC,aAAC;SArDD,AAqDC,IAAA;QArDY,UAAM,SAqDlB,CAAA;IACL,CAAC,EAxDS,GAAG,KAAH,GAAG,QAwDZ","file":"","sourceRoot":"/","sourcesContent":["namespace com \r\n{\r\n    export class JTPool<T extends JTIPoolObject> implements JTIPool\r\n    {\r\n        private static _poolMap:Object = {};\r\n        protected _cls:any = null;\r\n        protected _list:T[] = null;\r\n        protected _totalCount:number = 0;\r\n        protected _size:number = 0;\r\n        constructor(cls:any)\r\n        {\r\n            this._cls = cls;\r\n            this._list = [];\r\n            this._totalCount = 0;\r\n        }\r\n\r\n        public get():T\r\n        {\r\n            if (this._size > 0)\r\n            {\r\n                this._size --;\r\n                return this._list.shift();\r\n            }\r\n            this._totalCount ++;\r\n            return new this._cls();\r\n        }\r\n\r\n        public put(item:T):void\r\n        {\r\n            if (item && this._list.indexOf(item) == -1)   \r\n            {\r\n                item.recycle();\r\n                this._size = this._list.push(item);\r\n            }\r\n        }\r\n\r\n        public get totalCount():number\r\n        {\r\n            return this._totalCount;\r\n        }\r\n\r\n        public get size():number\r\n        {\r\n            return this._size;\r\n        }\r\n\r\n        public static instance(cls:any):JTIPool \r\n        {\r\n            var pool:JTIPool = this._poolMap[cls];\r\n            if (!pool)\r\n            {\r\n            pool = this._poolMap[cls] = new JTPool(cls);\r\n            }\r\n            return pool;\r\n        }\r\n    }\r\n}"]}