{"version":3,"sources":["assets\\Script\\src\\decorators\\injects\\JTDecoratorUtils.ts"],"names":[],"mappings":";;;;;;IAGA,IAAO,GAAG,CA4ET;IA5ED,WAAO,GAAG;QAET;YAAA;YAyEA,CAAC;YA5Dc,mCAAkB,GAAhC,UAAiC,MAAU,EAAE,QAAe;gBAE1D,IAAI,OAAO,GAAY,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBAClD,IAAI,CAAC,OAAO,EACZ;oBACA,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,OAAO,GAAG,EAAE,CAAC;iBACzC;gBACD,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACxB,IAAI,GAAG,GAAU,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC;gBAC/C,OAAO,GAAG,CAAC;YACZ,CAAC;YAQa,qBAAI,GAAlB,UAAmB,GAAO,EAAE,SAAyB;gBAAzB,0BAAA,EAAA,iBAAyB;gBAEpD,IAAI,IAAI,GAAU,GAAG,CAAC,IAAI,CAAC;gBAC3B,IAAI,OAAO,GAAsB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBACvD,IAAI,CAAC,OAAO,EACZ;oBACC,OAAO,GAAG,IAAI,qBAAqB,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;oBACpD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC;iBAChC;gBACD,OAAO,OAAO,CAAC;YAChB,CAAC;YAEa,yBAAQ,GAAtB,UAAuB,OAAW,EAAE,OAAW,EAAE,UAAe;gBAE/D,IAAI,IAAI,GAAU,OAAO,CAAC,IAAI,CAAC;gBAC/B,IAAI,OAAO,GAAsB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBACvD,IAAI,CAAC,OAAO,EACZ;oBACC,OAAO,GAAG,IAAI,oBAAoB,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;oBACjE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC;iBAChC;gBACD,OAAO,OAAO,CAAC;YAChB,CAAC;YAEa,6BAAY,GAA1B,UAA2B,GAAO,EAAE,UAAc;gBAEjD,IAAI,IAAI,GAAU,GAAG,CAAC,IAAI,CAAC;gBAC3B,IAAI,OAAO,GAAsB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBACvD,IAAI,CAAC,OAAO,EACZ;oBACC,OAAO,GAAG,IAAI,oBAAoB,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;oBACpD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC;iBAChC;gBACD,OAAO,OAAO,CAAC;YAChB,CAAC;YAEa,8BAAa,GAA3B,UAA4B,GAAO;gBAElC,IAAI,IAAI,GAAU,GAAG,CAAC,IAAI,CAAC;gBAC3B,IAAI,OAAO,GAAsB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBACvD,OAAO,OAAO,CAAC;YAChB,CAAC;YAtEc,2BAAU,GAAwC,EAAE,CAAC;YAGtD,8BAAa,GAAU,iBAAiB,CAAC;YAoExD,uBAAC;SAzED,AAyEC,IAAA;QAzEY,oBAAgB,mBAyE5B,CAAA;IACF,CAAC,EA5EM,GAAG,KAAH,GAAG,QA4ET","file":"","sourceRoot":"/","sourcesContent":["/*\r\n* name;\r\n*/\r\nmodule com \r\n{\r\n\texport class JTDecoratorUtils \r\n\t{\r\n\t\tprivate static _bindedMap:{[name:string] : JTClassInjectAlias} = {};\r\n\t\t// private static _singletonMap:{[name:string] : JTClassAlisa} = {};\r\n\r\n\t\tpublic static DECORATOR_KEY:string = \"__c.decorator__\";\r\n\t\t/**\r\n\t\t * 标记当前对象哪些属性进行了注入\r\n\t\t * @param cls 注入的类型\r\n\t\t * @param target 注入的类\r\n\t\t * @param property 被注入的属性名\r\n\t\t * @returns 返回注入关键字+属性名 __c.decorator__\r\n\t\t */\r\n\t\tpublic static registerClassAlias(target:any, property:string):string \r\n\t\t{\r\n\t\t\t let __lines:string[] = target[this.DECORATOR_KEY];\r\n\t\t\t if (!__lines)\r\n\t\t\t {\r\n\t\t\t\ttarget[this.DECORATOR_KEY] = __lines = [];\r\n\t\t\t }\r\n\t\t\t __lines.push(property);\r\n\t\t\tlet key:string = this.DECORATOR_KEY + property;\r\n\t\t\treturn key;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 全局单例--一个项目中只能存在一份实例（以cls做为参照对象）\r\n\t\t * @param cls \r\n\t\t * @param destroyed \r\n\t\t * @returns \r\n\t\t */\r\n\t\tpublic static bind(cls:any, destroyed:boolean = false):JTClassInjectAlias\r\n\t\t{\r\n\t\t\tlet name:string = cls.name;\r\n\t\t\tlet __class:JTClassInjectAlias = this._bindedMap[name];\r\n\t\t\tif (!__class)\r\n\t\t\t{\r\n\t\t\t\t__class = new JTSingletonClassAlias(cls, destroyed);\r\n\t\t\t\tthis._bindedMap[name] = __class;\r\n\t\t\t}\r\n\t\t\treturn __class;\r\n\t\t}\r\n\r\n\t\tpublic static bindPool(poolCls:any, itemCls:any, parameters?:any):JTClassInjectAlias\r\n\t\t{\r\n\t\t\tlet name:string = itemCls.name;\r\n\t\t\tlet __class:JTClassInjectAlias = this._bindedMap[name];\r\n\t\t\tif (!__class)\r\n\t\t\t{\r\n\t\t\t\t__class = new JTSingletonPoolAlias(poolCls, itemCls, parameters);\r\n\t\t\t\tthis._bindedMap[name] = __class;\r\n\t\t\t}\r\n\t\t\treturn __class;\r\n\t\t}\r\n\r\n\t\tpublic static bindTemplate(cls:any, parameters:any):JTClassInjectAlias\r\n\t\t{\r\n\t\t\tlet name:string = cls.name;\r\n\t\t\tlet __class:JTClassInjectAlias = this._bindedMap[name];\r\n\t\t\tif (!__class)\r\n\t\t\t{\r\n\t\t\t\t__class = new JTConfigurationAlisa(cls, parameters);\r\n\t\t\t\tthis._bindedMap[name] = __class;\r\n\t\t\t}\r\n\t\t\treturn __class;\r\n\t\t}\r\n\r\n\t\tpublic static getClassAlisa(cls:any):JTClassInjectAlias\r\n\t\t{\r\n\t\t\tlet name:string = cls.name;\r\n\t\t\tlet __class:JTClassInjectAlias = this._bindedMap[name];\r\n\t\t\treturn __class;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n"]}