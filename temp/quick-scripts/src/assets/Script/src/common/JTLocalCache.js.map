{"version":3,"sources":["assets\\Script\\src\\common\\JTLocalCache.ts"],"names":[],"mappings":";;;;;;IAAA,IAAU,GAAG,CA4EZ;IA5ED,WAAU,GAAG;QAET;YAQI,sBAAY,IAAW;gBANf,aAAQ,GAAU,IAAI,CAAC;gBACvB,UAAK,GAAU,IAAI,CAAC;gBAOxB,YAAY,CAAC,UAAU,GAAG,MAAM,CAAC,YAAY,CAAC;gBAC9C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACrB,CAAC;YAED,sBAAW,8BAAI;qBAAf,UAAgB,KAAY;oBAExB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;oBACnB,IAAI,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC,EAClC;wBACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;qBAC9D;yBAED;wBACI,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;wBACnB,IAAI,CAAC,MAAM,EAAE,CAAC;qBACjB;gBAEL,CAAC;;;eAAA;YAEM,gCAAS,GAAhB,UAAiB,GAAU,EAAE,IAAQ;gBAEjC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;gBAC1B,IAAI,CAAC,MAAM,EAAE,CAAC;YAClB,CAAC;YAEM,gCAAS,GAAhB,UAAiB,GAAU;gBAEvB,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YAC9B,CAAC;YAEM,6BAAM,GAAb,UAAc,GAAU;gBAEpB,OAAO,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC;YAChC,CAAC;YAEM,6BAAM,GAAb,UAAc,GAAU;gBAEpB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;gBAC1B,OAAO,IAAI,CAAC,QAAQ,CAAE,GAAG,CAAC,CAAC;gBAC3B,IAAI,CAAC,MAAM,EAAE,CAAC;YAClB,CAAC;YAEO,6BAAM,GAAd;gBAEI,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC/E,CAAC;YAEM,4BAAK,GAAZ;gBAEI,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;gBACnB,IAAI,CAAC,MAAM,EAAE,CAAC;YAClB,CAAC;YAEM,8BAAO,GAAd;gBAEI,IAAI,CAAC,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YACtB,CAAC;YAED,sBAAW,iCAAO;qBAAlB;oBAEI,OAAO,IAAI,CAAC,QAAQ,CAAC;gBACzB,CAAC;;;eAAA;YApEc,uBAAU,GAAW,IAAI,CAAC;YAqE7C,mBAAC;SAzED,AAyEC,IAAA;QAzEY,gBAAY,eAyExB,CAAA;IACL,CAAC,EA5ES,GAAG,KAAH,GAAG,QA4EZ","file":"","sourceRoot":"/","sourcesContent":["namespace com \r\n{\r\n    export class JTLocalCache implements JTIPoolObject\r\n    {\r\n        private _dataMap:Object = null;\r\n        private _name:string = null;\r\n        private static localCache:Storage = null;\r\n        /**\r\n         * 通过名字来获取本地缓存对象。\r\n         */\r\n        constructor(name:string)\r\n        {\r\n            JTLocalCache.localCache = window.localStorage;\r\n            this.name = name;\r\n        }\r\n\r\n        public set name(value:string)\r\n        {\r\n            this._name = value;\r\n            if (JTLocalCache.localCache[value])\r\n            {\r\n                this._dataMap = JSON.parse(JTLocalCache.localCache[value]);\r\n            }\r\n            else\r\n            {\r\n                this._dataMap = {};\r\n                this.update();\r\n            }\r\n\r\n        }\r\n\r\n        public setObject(key:string, data:any):void\r\n        {\r\n            this._dataMap[key] = data;\r\n            this.update();\r\n        }\r\n\r\n        public getObject(key:string):any\r\n        {\r\n            return this._dataMap[key];\r\n        }\r\n\r\n        public hasKey(key:string):boolean\r\n        {\r\n            return key in this._dataMap;\r\n        }\r\n\r\n        public delete(key:string):void\r\n        {\r\n            this._dataMap[key] = null;\r\n            delete this._dataMap [key];\r\n            this.update();\r\n        }\r\n\r\n        private update():void\r\n        {\r\n            JTLocalCache.localCache.setItem(this._name, JSON.stringify(this._dataMap));\r\n        }\r\n\r\n        public clean():void\r\n        {\r\n            this._dataMap = {};\r\n            this.update();\r\n        }\r\n\r\n        public recycle():void\r\n        {\r\n            this.clean();\r\n            this._name = null;\r\n        }\r\n\r\n        public get dataMap():Object\r\n        {\r\n            return this._dataMap;\r\n        }\r\n    }\r\n}"]}