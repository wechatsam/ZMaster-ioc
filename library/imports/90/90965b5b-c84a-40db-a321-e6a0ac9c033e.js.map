{"version":3,"sources":["assets\\Script\\src\\decorators\\injects\\singleton\\JTConfiguration.ts"],"names":[],"mappings":";;;;;;IAKA,IAAO,GAAG,CAiDT;IAjDD,WAAO,GAAG;QAQT,SAAgB,aAAa,CAAC,GAAY,EAAE,UAAiB;YAE5D,OAAO,UAAU,MAAU,EAAE,QAAe,EAAE,UAAe;gBAE5D,IAAI,UAAU,EACL;iBAER;qBAEQ;oBACP,iBAAiB,CAAC,GAAG,EAAE,MAAM,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;iBACtD;YACF,CAAC,CAAA;QACF,CAAC;QAbe,iBAAa,gBAa5B,CAAA;QAED,SAAgB,iBAAiB,CAAC,GAAO,EAAE,MAAU,EAAE,QAAe,EAAE,UAAc;YAErF,IAAI,GAAG,GAAU,gBAAgB,CAAC,kBAAkB,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YACvE,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,QAAQ,EACtC;gBACC,GAAG,EAAE;oBAEJ,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;oBACpB,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,SAAS,EACrC;wBACC,IAAI,MAAM,GAAsB,gBAAgB,CAAC,YAAY,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;wBAC/E,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC;wBACvC,MAAM,GAAG,IAAI,CAAC;qBACd;oBACD,OAAO,GAAG,CAAC;gBACZ,CAAC;gBACD,GAAG,EAAE,UAAU,GAAG;oBAEjB,IAAI,MAAM,GAAO,IAAI,CAAC,GAAG,CAAC,CAAC;oBAC3B,IAAI,GAAG,KAAK,MAAM;wBAAE,OAAO;oBAC3B,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;gBACjB,CAAC;gBACD,UAAU,EAAE,IAAI;gBAChB,YAAY,EAAE,IAAI;aAClB,CAAC,CAAC;QACJ,CAAC;QAzBe,qBAAiB,oBAyBhC,CAAA;IACF,CAAC,EAjDM,GAAG,KAAH,GAAG,QAiDT","file":"","sourceRoot":"/","sourcesContent":["\r\n\r\n/*\r\n* name;\r\n*/\r\nmodule com \r\n{\r\n    /**\r\n\t * 注入装饰器\r\n\t * @param parameter \r\n\t * @param type JTTextLoader.LOAD_DEFAULT,{url:c:1.txt, JTConfigTemplate};\r\n\t * \t\t\t   JTTextLoader.LOAD_PARSE {type:JTTextLoader.PARSE_ZIP | JTTextLoader.PARSE_BINARY | JTTextLoader.PARSE_STRING, data:content, JTConfigTemplate}; \r\n\t */\r\n\texport function Configuration(cls:Function, parameters:object):Function\r\n    {\r\n\t\treturn function (target:any, property:string, descripter?:any) \r\n        {\r\n\t\t\tif (descripter) \r\n            {\r\n\t\t\t\t//  injectGetterSetter(cls, target, property, descripter);\r\n\t\t\t}\r\n\t\t\telse \r\n            {\r\n\t\t\t\t loadConfiguration(cls, target, property, parameters);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\texport function loadConfiguration(cls:any, target:any, property:string, parameters:any) \r\n\t{\r\n\t\tlet key:string = JTDecoratorUtils.registerClassAlias(target, property);\r\n\t\tObject.defineProperty(target, property, \r\n\t\t{\r\n\t\t\tget: function () \r\n\t\t\t{\r\n\t\t\t\tlet val = this[key];\r\n\t\t\t\tif (val === null || val === undefined) \r\n\t\t\t\t{\r\n\t\t\t\t\tlet _class:JTClassInjectAlias = JTDecoratorUtils.bindTemplate(cls, parameters);\r\n\t\t\t\t\tval = this[property] = _class.instance;\r\n\t\t\t\t\t_class = null;\r\n\t\t\t\t}\r\n\t\t\t\treturn val;\r\n\t\t\t},\r\n\t\t\tset: function (val) \r\n\t\t\t{\r\n\t\t\t\tlet oldVal:any = this[key];\r\n\t\t\t\tif (val === oldVal) return;\r\n\t\t\t\tthis[key] = val;\r\n\t\t\t},\r\n\t\t\tenumerable: true,\r\n\t\t\tconfigurable: true\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\n\r\n"]}